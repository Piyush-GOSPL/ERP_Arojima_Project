Traceback with variables (most recent call last):
  File "apps/frappe/frappe/desk/page/setup_wizard/setup_wizard.py", line 117, in process_setup_stages
    task.get("fn")(task.get("args"))
      stages = [{'status': 'Updating global settings', 'fail_msg': 'Failed to update global settings', 'tasks': [{'fn': <function update_global_settings at 0x7acbb8f3c220>, 'args': {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': 'Piyush@9955', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}, 'fail_msg': 'Failed to update global settings', 'app_name': 'frappe'}]}, {'status': 'Installing presets', 'fail_msg': 'Failed to install presets', 'tasks': [{'fn': <function stage_fixtures at 0x7acbab3a2f20>, 'args': {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': 'Piyush@9955', 'company_name': 'Arojima Food Private Limited',...
      user_input = {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': '********', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}
      is_background_task = False
      capture = <function capture at 0x7acbbb592f20>
      setup_wizard_completed_apps = []
      current_task = {'fn': <function update_global_settings at 0x7acbb8f3c220>, 'args': {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': 'Piyush@9955', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}, 'fail_msg': 'Failed to update global settings', 'app_name': 'frappe'}
      idx = 0
      stage = {'status': 'Updating global settings', 'fail_msg': 'Failed to update global settings', 'tasks': [{'fn': <function update_global_settings at 0x7acbb8f3c220>, 'args': {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': 'Piyush@9955', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}, 'fail_msg': 'Failed to update global settings', 'app_name': 'frappe'}]}
      task = {'fn': <function update_global_settings at 0x7acbb8f3c220>, 'args': {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': 'Piyush@9955', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}, 'fail_msg': 'Failed to update global settings', 'app_name': 'frappe'}
  File "apps/frappe/frappe/desk/page/setup_wizard/setup_wizard.py", line 169, in update_global_settings
    create_or_update_user(args)
      args = {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': '********', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}
  File "apps/frappe/frappe/desk/page/setup_wizard/setup_wizard.py", line 309, in create_or_update_user
    user.insert()
      args = {'currency': 'INR', 'country': 'India', 'timezone': 'Asia/Kolkata', 'language': 'English', 'full_name': 'Piyush Rai', 'email': 'piyush.grandortus@gmail.com', 'password': '********', 'company_name': 'Arojima Food Private Limited', 'company_abbr': 'AFPL', 'chart_of_accounts': 'India - Chart of Accounts', 'fy_start_date': '2025-04-01', 'fy_end_date': '2026-03-31', 'setup_demo': 1}
      email = 'piyush.grandortus@gmail.com'
      first_name = 'Piyush'
      last_name = 'Rai'
      user = <User: piyush.grandortus@gmail.com>
      _mute_emails = False
  File "apps/frappe/frappe/model/document.py", line 309, in insert
    self.run_before_save_methods()
      self = <User: piyush.grandortus@gmail.com>
      ignore_permissions = None
      ignore_links = None
      ignore_if_duplicate = False
      ignore_mandatory = None
      set_name = None
      set_child_names = True
  File "apps/frappe/frappe/model/document.py", line 1134, in run_before_save_methods
    self.run_method("before_validate")
      self = <User: piyush.grandortus@gmail.com>
  File "apps/frappe/frappe/model/document.py", line 1011, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
      self = <User: piyush.grandortus@gmail.com>
      method = 'before_validate'
      args = ()
      kwargs = {}
      fn = <function Document.run_method.<locals>.fn at 0x7acbab06b240>
  File "apps/frappe/frappe/model/document.py", line 1368, in composer
    hooks.append(frappe.get_attr(handler))
      self = <User: piyush.grandortus@gmail.com>
      args = ()
      kwargs = {}
      hooks = []
      method = 'before_validate'
      doc_events = {'*': {'on_update': ['frappe.desk.notifications.clear_doctype_notifications', 'frappe.workflow.doctype.workflow_action.workflow_action.process_workflow_actions', 'frappe.core.doctype.file.utils.attach_files_to_document', 'frappe.automation.doctype.assignment_rule.assignment_rule.apply', 'frappe.automation.doctype.assignment_rule.assignment_rule.update_due_date', 'frappe.core.doctype.user_type.user_type.apply_permissions_for_non_standard_user_type', 'frappe.search.sqlite_search.update_doc_index'], 'after_rename': ['frappe.desk.notifications.clear_doctype_notifications'], 'on_cancel': ['frappe.desk.notifications.clear_doctype_notifications', 'frappe.workflow.doctype.workflow_action.workflow_action.process_workflow_actions', 'frappe.automation.doctype.assignment_rule.assignment_rule.apply'], 'on_trash': ['frappe.desk.notifications.clear_doctype_notifications', 'frappe.workflow.doctype.workflow_action.workflow_action.process_workflow_actions', 'frappe.search.sqlite_search.delete_doc_index'...
      handler = 'crm.api.demo.validate_user'
      compose = <function Document.hook.<locals>.compose at 0x7acbab1a32e0>
      f = <function Document.run_method.<locals>.fn at 0x7acbab06b240>
  File "apps/frappe/frappe/__init__.py", line 1744, in get_attr
    return getattr(get_module(modulename), methodname)
      method_string = 'crm.api.demo.validate_user'
      app_name = 'crm'
      modulename = 'crm.api.demo'
      methodname = 'validate_user'
  File "apps/frappe/frappe/__init__.py", line 1454, in get_module
    return importlib.import_module(modulename)
      modulename = 'crm.api.demo'
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
      name = 'crm.api.demo'
      package = None
      level = 0
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
      name = 'crm.api.demo'
      package = None
      level = 0
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
      name = 'crm.api.demo'
      import_ = <function _gcd_import at 0x7acbc06c80e0>
      module = <exception while printing> Traceback (most recent call last):
          File "env/lib/python3.12/site-packages/traceback_with_variables/core.py", line 222, in _to_cropped_str
            raw = print_(obj)
                  ^^^^^^^^^^^
          File "apps/frappe/frappe/utils/__init__.py", line 371, in dict_printer
            if key in v:
               ^^^^^^^^
        TypeError: argument of type 'object' is not iterable
        
  File "<frozen importlib._bootstrap>", line 1310, in _find_and_load_unlocked
      name = 'crm.api.demo'
      import_ = <function _gcd_import at 0x7acbc06c80e0>
      path = None
      parent = 'crm.api'
      parent_spec = None
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
      f = <function _gcd_import at 0x7acbc06c80e0>
      args = ('crm.api',)
      kwds = {}
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
      name = 'crm.api'
      package = None
      level = 0
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
      name = 'crm.api'
      import_ = <function _gcd_import at 0x7acbc06c80e0>
      module = <exception while printing> Traceback (most recent call last):
          File "env/lib/python3.12/site-packages/traceback_with_variables/core.py", line 222, in _to_cropped_str
            raw = print_(obj)
                  ^^^^^^^^^^^
          File "apps/frappe/frappe/utils/__init__.py", line 371, in dict_printer
            if key in v:
               ^^^^^^^^
        TypeError: argument of type 'object' is not iterable
        
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
      name = 'crm.api'
      import_ = <function _gcd_import at 0x7acbc06c80e0>
      path = ['apps/crm/crm']
      parent = 'crm'
      parent_spec = ModuleSpec(name='crm', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7acbbcf129f0>, origin='apps/crm/crm/__init__.py', submodule_search_locations=['apps/crm/crm'])
      parent_module = <module 'crm' from 'apps/crm/crm/__init__.py'>
      child = 'api'
      spec = ModuleSpec(name='crm.api', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>, origin='apps/crm/crm/api/__init__.py', submodule_search_locations=['apps/crm/crm/api'])
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
      spec = ModuleSpec(name='crm.api', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>, origin='apps/crm/crm/api/__init__.py', submodule_search_locations=['apps/crm/crm/api'])
      module = <module 'crm.api' from 'apps/crm/crm/api/__init__.py'>
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
      self = <_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>
      module = <module 'crm.api' from 'apps/crm/crm/api/__init__.py'>
      code = <code object <module> at 0x7acba06e7a10, file "apps/crm/crm/api/__init__.py", line 1>
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
      f = <built-in function exec>
      args = (<code object <module> at 0x7acba06e7a10, file "apps/crm/crm/api/__init__.py", line 1>, {'__name__': 'crm.api', '__doc__': None, '__package__': 'crm.api', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>, '__spec__': ModuleSpec(name='crm.api', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>, origin='apps/crm/crm/api/__init__.py', submodule_search_locations=['apps/crm/crm/api']), '__path__': ['apps/crm/crm/api'], '__file__': 'apps/crm/crm/api/__init__.py', '__cached__': 'apps/crm/crm/api/__pycache__/__init__.cpython-312.pyc', '__builtins__': {'__name__': 'builtins', '__doc__': "Built-in functions, types, exceptions, and other objects.\n\nThis module provides direct access to all 'built-in'\nidentifiers o...
      kwds = {}
  File "apps/crm/crm/api/__init__.py", line 8, in <module>
    from frappe.modules.utils import get_modules_from_all_apps_for_user
      __name__ = 'crm.api'
      __doc__ = None
      __package__ = 'crm.api'
      __loader__ = <_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>
      __spec__ = ModuleSpec(name='crm.api', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7acbab189af0>, origin='apps/crm/crm/api/__init__.py', submodule_search_locations=['apps/crm/crm/api'])
      __path__ = ['apps/crm/crm/api']
      __file__ = 'apps/crm/crm/api/__init__.py'
      __cached__ = 'apps/crm/crm/api/__pycache__/__init__.cpython-312.pyc'
      __builtins__ = {'__name__': 'builtins', '__doc__': "Built-in functions, types, exceptions, and other objects.\n\nThis module provides direct access to all 'built-in'\nidentifiers of Python; for example, builtins.len is\nthe full name for the built-in function len().\n\nThis module is not normally accessed explicitly by most\napplications, but can be useful in modules that provide\nobjects with the same name as a built-in value, but in\nwhich the built-in of that name is also needed.", '__package__': '', '__loader__': <class '_frozen_importlib.BuiltinImporter'>, '__spec__': ModuleSpec(name='builtins', loader=<class '_frozen_importlib.BuiltinImporter'>, origin='built-in'), '__build_class__': <built-in function __build_class__>, '__import__': <built-in function __import__>, 'abs': <built-in function abs>, 'all': <built-in function all>, 'any': <built-in function any>, 'ascii': <built-in function ascii>, 'bin': <built-in function bin>, 'breakpoint': <built-in function breakpoint>, 'callable': <built-in f...
      frappe = <module 'frappe' from 'apps/frappe/frappe/__init__.py'>
      BeautifulSoup = <class 'bs4.BeautifulSoup'>
      get_max_file_size = <function get_max_file_size at 0x7acbbb6c7740>
      get_all_translations = <function get_all_translations at 0x7acbbc36b560>
      cstr = <function cstr at 0x7acbbf3132e0>
      split_emails = <function split_emails at 0x7acbbf317380>
      validate_email_address = <function validate_email_address at 0x7acbbf3172e0>
      POSTHOG_HOST_FIELD = 'posthog_host'
      POSTHOG_PROJECT_FIELD = 'posthog_project_id'
builtins.ImportError: cannot import name 'get_modules_from_all_apps_for_user' from 'frappe.modules.utils' (apps/frappe/frappe/modules/utils.py){"currency": "INR", "country": "India", "timezone": "Asia/Kolkata", "language": "English", "full_name": "Piyush Rai", "email": "piyush.grandortus@gmail.com", "password": "Piyush@9955", "company_name": "Arojima Food Private Limited", "company_abbr": "AFPL", "chart_of_accounts": "India - Chart of Accounts", "fy_start_date": "2025-04-01", "fy_end_date": "2026-03-31", "setup_demo": 1}